<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>BÃ“RáºžÃ•Ã‘ Chat Support</title>

<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>

/* ðŸŽ¨ WhatsApp Style CSS */
*{
box-sizing:border-box;
margin:0;
padding:0;
font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;
-webkit-tap-highlight-color:transparent;
}

body{
background-color:#e5ddd5;
height:100vh;
display:flex;
flex-direction:column;
overflow:hidden;
}

/* --- Header --- */
.header{
background-color:#008069;
color:white;
padding:10px 15px;
display:flex;
align-items:center;
justify-content:space-between;
height:60px;
z-index:100;
box-shadow:0 1px 3px rgba(0,0,0,0.2);
}

.header-left{
display:flex;
align-items:center;
gap:10px;
}

.avatar{
width:40px;
height:40px;
border-radius:50%;
background:#ccc;
background-size:cover;
background-position:center;
}

.chat-info h3{
font-size:16px;
font-weight:500;
margin:0;
}

.chat-info p{
font-size:12px;
opacity:0.8;
margin:0;
}

/* --- Chat Area --- */
#chat-container{
flex:1;
overflow-y:auto;
padding:10px;
padding-bottom:85px; /* âœ… Input à¦œà¦¾à§Ÿà¦—à¦¾ */
background-image:url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png');
background-repeat:repeat;
display:flex;
flex-direction:column;
gap:5px;
}

/* --- Message --- */
.msg{
max-width:75%;
padding:8px 10px;
border-radius:8px;
font-size:14.5px;
word-wrap:break-word;
box-shadow:0 1px 2px rgba(0,0,0,0.1);
}

.sent{
background:#dcf8c6;
align-self:flex-end;
}

.received{
background:white;
align-self:flex-start;
}

.time{
font-size:10px;
color:#999;
text-align:right;
display:block;
margin-top:2px;
}

/* ============================= */
/* âœ… INPUT AREA FIX START */
/* ============================= */

.input-area{
position:fixed;
bottom:0;
left:0;
width:100%;
background:#f0f0f0;
padding:8px 10px;
display:flex;
align-items:center;
gap:8px;
min-height:65px;
z-index:999;
box-shadow:0 -2px 5px rgba(0,0,0,0.1);
}

.input-area input{
flex:1;
padding:12px 15px;
border-radius:20px;
border:none;
outline:none;
font-size:16px; /* à¦²à§‡à¦–à¦¾ à¦¬à§œ */
background:white;
}

.icon-btn{
font-size:20px;
color:#555;
padding:10px;
cursor:pointer;
}

.send-btn{
background:#008069;
color:white;
width:40px;
height:40px;
border-radius:50%;
display:flex;
align-items:center;
justify-content:center;
border:none;
font-size:18px;
cursor:pointer;
}

/* ============================= */
/* âœ… INPUT AREA FIX END */
/* ============================= */

.hidden{
display:none!important;
}

</style>
</head>

<body>

<!-- Chat Header -->
<div class="header">
<div class="header-left">
<div class="avatar"></div>
<div class="chat-info">
<h3>BÃ“RáºžÃ•Ã‘ (Admin)</h3>
<p>online</p>
</div>
</div>
</div>

<!-- Chat Box -->
<div id="chat-container"></div>

<!-- Input Area -->
<div class="input-area">

<label for="imgInput">
<i class="fas fa-camera icon-btn"></i>
</label>

<input type="file" id="imgInput" hidden>

<input type="text" id="msgInput" placeholder="à¦®à§‡à¦¸à§‡à¦œ à¦²à¦¿à¦–à§à¦¨..." onkeypress="if(event.key==='Enter')sendMessage()">

<button class="send-btn" onclick="sendMessage()">
<i class="fas fa-paper-plane"></i>
</button>

</div>

<script>

/* Firebase Config */
const firebaseConfig={
apiKey:"YOUR_API_KEY",
authDomain:"YOUR_DOMAIN",
databaseURL:"YOUR_DB_URL",
projectId:"YOUR_ID",
storageBucket:"YOUR_BUCKET",
messagingSenderId:"YOUR_MSG_ID",
appId:"YOUR_APP_ID"
};

firebase.initializeApp(firebaseConfig);
const db=firebase.database();

let myName="User";
let myID="user_"+Date.now();

function loadMessages(){
db.ref("messages/"+myID).limitToLast(50)
.on("child_added",(snap)=>{

const data=snap.val();

const div=document.createElement("div");
div.className="msg "+(data.sender===myName?"sent":"received");

div.innerHTML=`
${data.text}
<span class="time">
${new Date(data.time).toLocaleTimeString([],{
hour:'2-digit',
minute:'2-digit'
})}
</span>
`;

document.getElementById("chat-container").appendChild(div);

document.getElementById("chat-container").scrollTop=
document.getElementById("chat-container").scrollHeight;

});
}

function sendMessage(){

const input=document.getElementById("msgInput");
const text=input.value.trim();
if(!text)return;

db.ref("messages/"+myID).push({
text:text,
sender:myName,
time:Date.now()
});

input.value="";
}

loadMessages();

</script>

</body>
</html>
